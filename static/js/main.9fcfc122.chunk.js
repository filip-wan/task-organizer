(this["webpackJsonptask-organizer"]=this["webpackJsonptask-organizer"]||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a,r,i=n(0),o=n.n(i),c=n(11),u=n.n(c),l=n(34),d=n(147),s=n(151),m=n(152),f=n(153),b=n(89),p=n.n(b),h=n(29),g=n(8),y=n(19),v=n(13),O=n.n(v),j=n(22),E=function(){var e=Object(j.a)(O.a.mark((function e(t,n,a,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://task-organizer-backend.herokuapp.com/"+n,{headers:{"Content-Type":"application/json"},method:t,credentials:"include",body:r}).then((function(e){return 200===e.status&&e.json()})).then(a).finally((function(e){return console.log(t,"https://task-organizer-backend.herokuapp.com/"+n,e)})).catch((function(e){return console.error("ERROR!",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),w=Object(y.b)("user/login",Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("GET","auth"));case 1:case"end":return e.stop()}}),e)})))),k=Object(y.b)("user/logout",Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("GET","logout"));case 1:case"end":return e.stop()}}),e)})))),x=Object(y.b)("user/edit",function(){var e=Object(j.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,e.abrupt("return",E("GET","auth/".concat(n),(function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(y.c)({name:"user",initialState:{},extraReducers:(a={},Object(h.a)(a,w.fulfilled,(function(e,t){var n,a,r;return Object(g.a)(Object(g.a)({},null!==(n=null===(a=t.payload)||void 0===a?void 0:a.user)&&void 0!==n?n:{}),{},{authorized:null===(r=t.payload)||void 0===r?void 0:r.success})})),Object(h.a)(a,k.fulfilled,(function(e,t){return{authorized:!1}})),Object(h.a)(a,x.fulfilled,(function(e,t){return Object(g.a)(Object(g.a)({},e),t.payload)})),a)}),z=S.reducer,T=n(28),C=n(26),D=Object(y.b)("items/deleteItem",function(){var e=Object(j.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.type,e.abrupt("return",E("DELETE","".concat(a,"s/")+n,(function(e){var t=e._id,n=Object(C.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=n(23),_=Object(y.b)("items/fetchAll",Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=[],e.t1=I.a,e.next=4,E("GET","notes",(function(e){return e.map((function(e){var t=e._id,n=Object(C.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:"note"})}))}));case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=I.a,e.next=9,E("GET","todos",(function(e){return e.map((function(e){var t=e._id,n=Object(C.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:"todo"})}))}));case 9:return e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7=I.a,e.next=14,E("GET","timetables",(function(e){return e.map((function(e){var t=e._id,n=Object(C.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:"timeTable"})}))}));case 14:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.abrupt("return",e.t0.concat.call(e.t0,e.t3,e.t6,e.t9));case 17:case"end":return e.stop()}}),e)})))),L=Object(y.b)("items/postItem",function(){var e=Object(j.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=Object(C.a)(t,["type"]),e.abrupt("return",E("POST","".concat(n,"s"),(function(e){var t=e._id,a=Object(C.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},a),{},{id:t,type:n})}),JSON.stringify(a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(y.b)("items/putItem",function(){var e=Object(j.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.type,r=Object(C.a)(t,["id","type"]),e.abrupt("return",E("PUT",a+"s/"+n,(function(e){var t=e._id,n=Object(C.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:a})}),JSON.stringify(r)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(y.c)({name:"items",initialState:[],extraReducers:(r={},Object(h.a)(r,D.fulfilled,(function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))})),Object(h.a)(r,_.fulfilled,(function(e,t){return t.payload})),Object(h.a)(r,L.fulfilled,(function(e,t){e.push(t.payload)})),Object(h.a)(r,N.fulfilled,(function(e,t){return e.map((function(e){return e.id===t.payload.id?Object(g.a)(Object(g.a)({},e),t.payload):e}))})),r)}),B=G.reducer,R=n(16),M=function(e){return function(){return Object(R.c)((function(t){return t[e.name]}))}},A=Object(y.a)({reducer:Object(T.c)({user:z,items:B}),middleware:Object(y.d)()}),P=function(){var e=Object(R.b)(),t=M(S)();return o.a.createElement(d.a,{position:"static",color:"primary"},o.a.createElement(s.a,null,o.a.createElement(m.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(p.a,null)),o.a.createElement(f.a,{component:l.b,to:"",color:"inherit"},"Home"),t.authorized&&o.a.createElement(f.a,{component:l.b,to:"settings",color:"inherit"},"Settings"),t.authorized?o.a.createElement(f.a,{onClick:function(){e(k())},type:"logout",label:"Logout",height:50,style:{right:0,position:"absolute"}},"Logout"):o.a.createElement(f.a,{component:l.b,to:"login",style:{right:0,position:"absolute"}},"Login")))},U=n(18),Y=n(14),F=n(56),J=n.n(F),K=n(90),H=n(91),W=n.n(H),q=n(63),Q=n.n(q),V=function(e){var t=e.item,n=e.children,a=Object(R.b)();return o.a.createElement(J.a,{onStop:function(e,n){var r=n.x,i=n.y;r!==t.position.x&&i!==t.position.y&&a(N({id:t.id,type:t.type,position:{x:r,y:i}}))},key:t.id,cancel:".button-resize, .react-calendar",defaultPosition:Object(g.a)({},t.position)},o.a.createElement(K.ResizableBox,{minConstraints:[120,120],height:t.size.height,width:t.size.width,onResizeStop:function(e,n){var r=n.size;r.width!==t.size.width&&r.height!==t.size.height&&a(N({id:t.id,type:t.type,size:r}))},handle:o.a.createElement("button",{className:"button-resize",style:{borderRadius:"40px",border:"0px",right:".4em",bottom:"0.6em",height:0,width:0,position:"absolute",background:"none",cursor:"se-resize",outline:"none",fontSize:"initial"}},o.a.createElement(W.a,{color:"disabled"})),style:{position:"absolute"}},o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"button-exit",onClick:function(){return a(D({id:t.id,type:t.type}))},style:{borderRadius:"40px",size:"2rem",border:"0px",right:".4em",top:"-1rem",height:0,width:0,position:"absolute",background:"none",cursor:"pointer",outline:"none",fontSize:"initial"}},o.a.createElement(Q.a,{color:"error"})),n)))},X=n(154),Z=n(163),$=function(e){var t=e.item,n=Object(R.b)(),a=Object(i.useState)(t.title),r=Object(Y.a)(a,2),c=r[0],u=r[1],l=Object(i.useState)(t.description),d=Object(Y.a)(l,2),s=d[0],m=d[1];return o.a.createElement(X.a,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:10}},o.a.createElement(Z.a,{onChange:function(e){u(e.target.value)},onBlur:function(){t.title!==c&&n(N({id:t.id,type:t.type,title:c}))},value:c,color:"secondary",style:{width:"100%"}}),o.a.createElement(Z.a,{onChange:function(e){m(e.target.value)},onBlur:function(){t.description!==s&&n(N({id:t.id,type:t.type,description:s}))},variant:"outlined",value:s,color:"secondary",multiline:!0,style:{marginTop:10,width:"100%",height:"100%"},InputProps:{style:{height:"100%"}},inputProps:{style:{height:"100%",overflow:"auto"}}}))},ee=(n(49),n(94),n(156)),te=(Object(ee.a)({timeTable:{height:"100%",width:"100%","& .react-calendar":{borderRadius:"0 0 10px 10px",border:"none",width:"auto",background:"#ffffff11"}}}),n(160)),ne=n(159),ae=n(7),re=n(155),ie=n(157),oe=n(158),ce=Object(ee.a)({schedule:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},item:{margin:"10px 0px",width:"100%",padding:0},itemCard:{height:"100%",width:"100%",padding:8}}),ue=function(e){var t=e.day,n=e.events,a=e.selectedEvents,r=void 0===a?[]:a,i=ce(),c=Object(Y.a)(r,2),u=c[0],l=c[1];return o.a.createElement(re.a,null,o.a.createElement(ie.a,null,le[t]),o.a.createElement(oe.a,null),n.sort((function(e,t){return new Date(t.dateStart).valueOf()-new Date(e.dateEnd).valueOf()})).map((function(e){var n=new Date(e.dateStart),a=new Date(e.dateEnd);return o.a.createElement(ie.a,{key:e.googleId,className:i.item,button:!0,onClick:function(){u&&(u.find((function(t){return t.id===e.googleId}))?l(u.filter((function(t){return t.id!==e.googleId}))):l([].concat(Object(I.a)(u),[{id:e.googleId,day:t}])))}},o.a.createElement(X.a,{raised:!!(null===u||void 0===u?void 0:u.find((function(t){return t.id===e.googleId}))),className:i.itemCard},"".concat(se(n)," - ").concat(se(a)),o.a.createElement("br",null),e.summary),o.a.createElement(oe.a,null))})))},le={0:"Mon",1:"Tue",2:"Wed",3:"Thu",4:"Fri",5:"Sat",6:"Sun"},de=function(e,t,n){var a=t.rules,r=void 0===a?[]:a;return Object.keys(e).map((function(e){return o.a.createElement(ue,{key:e,day:e,selectedEvents:n,events:Object(I.a)(r.reduce((function(t,n){var a;return[].concat(Object(I.a)(t),Object(I.a)((a=Object(ae.c)(n.recurrence.join("\n"))).between.apply(a,Object(I.a)(function(e){var t=new Date;t.setDate(t.getDate()+(7-t.getDay())%7+1+e);var n=new Date(t);return n.setDate(t.getDate()+1),[t,n]}(e))).map((function(e){return Object(g.a)(Object(g.a)({},n),{},{date:e})}))))}),[]))})}))},se=function(e){return"".concat(e.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),":").concat(e.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}))},me=function(e){var t=e.item,n=Object(R.b)(),a=Object(i.useState)(null),r=Object(Y.a)(a,2),c=r[0],u=r[1];return Object(i.useEffect)((function(){E("GET","calendars").then((function(e){return u(e)}))}),[]),c?o.a.createElement(re.a,null,c.map((function(e){return o.a.createElement(ie.a,{button:!0,onClick:function(){n(N({id:t.id,type:t.type,google:e.id}))},key:e.id},e.summary)}))):o.a.createElement(ne.a,null)},fe=n(93),be=n.n(fe),pe=[ae.a.SECONDLY,ae.a.MINUTELY,ae.a.HOURLY,ae.a.DAILY,ae.a.WEEKLY],he=Object(ee.a)({schedule:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},grid:{overflow:"auto"},saveButton:{position:"absolute",right:10,bottom:10}}),ge=function(e){var t,n,a,r=e.item,c=he(),u=Object(i.useState)(),l=Object(Y.a)(u,2),d=l[0],s=l[1],f=Object(i.useState)([]),b=Object(Y.a)(f,2),p=b[0],h=b[1],y=Object(R.b)();return Object(i.useEffect)((function(){var e;r.google&&!(null===(e=r.events)||void 0===e?void 0:e.length)&&E("GET","calendar/events/?calendarId="+r.google,(function(e){return e.filter((function(e){return e.recurrence})).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{rule:Object(ae.c)(e.recurrence.join("\n"))})})).filter((function(e){return pe.includes(e.rule.options.freq)})).map((function(e){return{dateCreated:e.created,dateStart:e.start.dateTime,dateEnd:e.end.dateTime,googleId:e.id,description:e.description,summary:e.summary,recurrence:e.recurrence}}))})).then((function(e){return s(e)}))}),[r.google,null===(t=r.events)||void 0===t?void 0:t.length]),o.a.createElement(X.a,{className:c.schedule},o.a.createElement(te.a,{container:!0,spacing:2,className:c.grid},o.a.createElement(te.a,{item:!0,xs:12},o.a.createElement(te.a,{container:!0,justify:"space-evenly",spacing:2},r.google?(null===(n=r.events)||void 0===n?void 0:n.length)?de(le,{rules:r.events}):d?de(le,{rules:d},[p,h]):o.a.createElement(ne.a,null):o.a.createElement(me,{item:r})))),r.google&&!(null===(a=r.events)||void 0===a?void 0:a.length)&&o.a.createElement(m.a,{className:c.saveButton,disabled:p.length<=0,onClick:function(){p.length>0&&y(N({id:r.id,type:r.type,events:d.filter((function(e){return p.find((function(t){return t.id===e.googleId}))}))}))},"aria-label":"save timetable"},o.a.createElement(be.a,null)))},ye=Object(ee.a)({timeTable:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:10}}),ve=function(e){var t=e.item,n=Object(R.b)(),a=Object(i.useState)(t.title||""),r=Object(Y.a)(a,2),c=r[0],u=r[1],l=Object(i.useState)(t.description),d=Object(Y.a)(l,2),s=d[0],m=d[1],f=Object(i.useState)(!!t.description),b=Object(Y.a)(f,2),p=b[0],h=b[1],g=ye();return o.a.createElement(X.a,{className:g.timeTable},o.a.createElement(Z.a,{onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&!p&&h(!0)},onBlur:function(){t.title!==c&&n(N({id:t.id,type:t.type,title:c}))},value:c,color:"secondary",style:{width:"100%"}}),p&&o.a.createElement(Z.a,{onChange:function(e){m(e.target.value)},onBlur:function(){t.description!==s&&n(N({id:t.id,type:t.type,description:s})),s||h(!1)},variant:"outlined",value:s,color:"secondary",multiline:!0,style:{marginTop:10,marginBottom:10,width:"100%"}}),o.a.createElement(ge,{item:t}))},Oe=n(164),je=function(e){var t,n,a=e.item,r=e.todoItem,c=e.isNew,u=Object(R.b)(),l=Object(i.useState)(null!==(t=null===r||void 0===r?void 0:r.text)&&void 0!==t?t:""),d=Object(Y.a)(l,2),s=d[0],m=d[1],f=Object(i.useState)(null!==(n=null===r||void 0===r?void 0:r.state)&&void 0!==n&&n),b=Object(Y.a)(f,2),p=b[0],h=b[1],y=function(){var e;(null!==(e=null===r||void 0===r?void 0:r.text)&&void 0!==e?e:"")!==s&&u(N({id:a.id,type:a.type,items:c?[].concat(Object(I.a)(a.items),[{text:s,state:p}]):a.items.map((function(e){return e._id===r._id?!!s&&Object(g.a)(Object(g.a)({},r),{},{text:s,state:p}):e})).filter((function(e){return!1!==e}))})),c&&h(!1),c&&m("")};return o.a.createElement(ie.a,{style:{paddingLeft:0,paddingRight:c?"2.2em":0,width:"100%"}},o.a.createElement(Oe.a,{checked:p,onClick:function(e){h(!p),!c&&u(N({id:a.id,type:a.type,items:a.items.map((function(e){return e._id===r._id?Object(g.a)(Object(g.a)({},r),{},{text:s,state:!p}):e}))}))},color:"default"}),o.a.createElement(Z.a,{value:s,onChange:function(e){m(e.target.value)},onBlur:y,onKeyDown:function(e){var t,n,a,r,i,o,c,u;"Enter"===e.key&&(y(),null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a||null===(r=a.parentElement)||void 0===r||null===(i=r.nextElementSibling)||void 0===i||null===(o=i.children[1])||void 0===o||null===(c=o.firstElementChild)||void 0===c||null===(u=c.firstElementChild)||void 0===u||u.focus())},style:{width:"100%"},color:"secondary",placeholder:"New Todo Item"}),!c&&o.a.createElement(Q.a,{style:{cursor:"pointer",width:"1em",marginLeft:".2em",color:"#ffffff66"},onMouseEnter:function(e){return e.target.style.color="#f44336"},onMouseLeave:function(e){return e.target.style.color="#ffffff66"},onClick:function(){return u(N({id:a.id,type:a.type,items:a.items.filter((function(e){return e._id!==r._id}))}))}}))},Ee=function(e){var t=e.item,n=Object(R.b)(),a=Object(i.useState)(t.title),r=Object(Y.a)(a,2),c=r[0],u=r[1],l=Object(i.useState)(t.description),d=Object(Y.a)(l,2),s=d[0],m=d[1],f=Object(i.useState)(!!t.description),b=Object(Y.a)(f,2),p=b[0],h=b[1];return o.a.createElement(X.a,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:10}},o.a.createElement(Z.a,{onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&!p&&h(!0)},onBlur:function(){t.title!==c&&n(N({id:t.id,type:t.type,title:c}))},value:c,color:"secondary",style:{width:"100%"}}),o.a.createElement("div",{style:{overflow:"auto",width:"100%",height:"100%"}},p&&o.a.createElement(Z.a,{onChange:function(e){m(e.target.value)},onBlur:function(){t.description!==s&&n(N({id:t.id,type:t.type,description:s})),s||h(!1)},variant:"outlined",value:s,color:"secondary",multiline:!0,style:{marginTop:10,width:"100%"}}),o.a.createElement(re.a,null,t.items.map((function(e){return o.a.createElement(je,{item:t,todoItem:e,key:null===e||void 0===e?void 0:e._id})})),o.a.createElement(je,{isNew:!0,item:t}))))},we=function(){var e=Object(R.b)(),t=M(S)(),n=M(G)(),a=Object(i.useState)(!1),r=Object(Y.a)(a,2),c=r[0],u=r[1];return Object(i.useEffect)((function(){e(w()).then((function(t){var n;return(null===(n=t.payload)||void 0===n?void 0:n.success)&&e(_())}))}),[e]),Object(i.useEffect)((function(){var e;u(!(null===(e=t.authorized)||void 0===e||e))}),[t.authorized]),o.a.createElement("div",null,c&&o.a.createElement(U.a,{to:"login"}),o.a.createElement(f.a,{onClick:function(t){return e(L({type:"note",position:{x:20,y:20},size:{height:400,width:200}}))}},"Add Note"),o.a.createElement(f.a,{onClick:function(t){return e(L({type:"todo",position:{x:20,y:20},size:{height:400,width:200}}))}},"Add Todo"),o.a.createElement(f.a,{onClick:function(t){return e(L({type:"timeTable",position:{x:20,y:20},size:{height:400,width:200}}))}},"Add TimeTable"),n.map((function(e){return o.a.createElement(V,{item:e,key:e.id},"note"===e.type&&o.a.createElement($,{item:e}),"todo"===e.type&&o.a.createElement(Ee,{item:e}),"timeTable"===e.type&&o.a.createElement(ve,{item:e}))})))},ke=function(){return o.a.createElement(X.a,{style:{display:"flex",flexDirection:"column",padding:10,margin:"10% auto",width:"fit-content"}},o.a.createElement(f.a,{href:"https://task-organizer-backend.herokuapp.com/auth/github",type:"github",label:"Login with Github",height:50},"Github"),o.a.createElement(f.a,{href:"https://task-organizer-backend.herokuapp.com/auth/facebook",type:"facebook",label:"Login with Facebook",height:50},"Facebook"),o.a.createElement(f.a,{href:"https://task-organizer-backend.herokuapp.com/auth/google",type:"google",label:"Login with Google",height:50},"Google"))},xe=function(){return o.a.createElement(U.d,null,o.a.createElement(U.b,{path:"/login"},o.a.createElement(ke,null)),o.a.createElement(U.b,{path:"/settings"},"Settings"),o.a.createElement(U.b,{path:"/"},o.a.createElement(we,null)))},Se=function(){return o.a.createElement(l.a,null,o.a.createElement(P,null),o.a.createElement(xe,null))},ze=n(95),Te=n(161),Ce=n(162),De=Object(ze.a)({palette:{type:"dark",primary:{main:"#53206E"},secondary:{main:"#3e53c2"}},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{width:"0.7em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.2)",borderRadius:20}}}}});u.a.render(o.a.createElement(R.a,{store:A},o.a.createElement(Te.a,{theme:De},o.a.createElement(Ce.a,null),o.a.createElement(Se,null))),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.9fcfc122.chunk.js.map