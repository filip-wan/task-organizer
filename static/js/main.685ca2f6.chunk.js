(this["webpackJsonptask-organizer"]=this["webpackJsonptask-organizer"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a,r,i=n(0),o=n.n(i),c=n(7),u=n.n(c),l=n(29),s=n(83),d=n.n(s),p=n(135),b=n(139),f=n(140),m=n(141),h=n(16),y=n(25),g=n(9),O=n(14),j=n(11),E=n.n(j),v=n(18),k=function(){var e=Object(v.a)(E.a.mark((function e(t,n,a,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://task-organizer-backend.herokuapp.com/"+n,{headers:{"Content-Type":"application/json"},method:t,credentials:"include",body:r}).then((function(e){return 200===e.status&&e.json()})).then(a).finally((function(e){return console.log(t,"https://task-organizer-backend.herokuapp.com/"+n,e)})).catch((function(e){return console.error("ERROR!",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),w=Object(O.b)("user/login",Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k("GET","auth"));case 1:case"end":return e.stop()}}),e)})))),x=Object(O.b)("user/logout",Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k("GET","logout"));case 1:case"end":return e.stop()}}),e)})))),z=Object(O.b)("user/edit",function(){var e=Object(v.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,e.abrupt("return",k("GET","auth/".concat(n),(function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(O.c)({name:"user",initialState:{},extraReducers:(a={},Object(y.a)(a,w.fulfilled,(function(e,t){return Object(g.a)(Object(g.a)({},t.payload.user),{},{authorized:t.payload.success})})),Object(y.a)(a,x.fulfilled,(function(e,t){return{authorized:!1}})),Object(y.a)(a,z.fulfilled,(function(e,t){return Object(g.a)(Object(g.a)({},e),t.payload)})),a)}),C=S.reducer,_=function(){var e=Object(h.b)();return o.a.createElement(p.a,{position:"static",color:"primary"},o.a.createElement(b.a,null,o.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(d.a,null)),o.a.createElement(m.a,{component:l.b,to:"",color:"inherit"},"Home"),o.a.createElement(m.a,{component:l.b,to:"login",color:"inherit"},"Login"),o.a.createElement(m.a,{component:l.b,to:"settings",color:"inherit"},"Settings"),o.a.createElement(m.a,{onClick:function(){e(x())},type:"logout",label:"Logout",height:50,style:{right:0,position:"absolute"}},"Logout")))},T=n(13),L=n(21),R=n(23),G=n(24),I=Object(O.b)("items/deleteItem",function(){var e=Object(v.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.type,e.abrupt("return",k("DELETE","".concat(a,"s/")+n,(function(e){var t=e._id,n=Object(G.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=n(46),N=Object(O.b)("items/fetchAll",Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=[],e.t1=B.a,e.next=4,k("GET","notes",(function(e){return e.map((function(e){var t=e._id,n=Object(G.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:"note"})}))}));case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=B.a,e.next=9,k("GET","todos",(function(e){return e.map((function(e){var t=e._id,n=Object(G.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:"todo"})}))}));case 9:return e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.abrupt("return",e.t0.concat.call(e.t0,e.t3,e.t6));case 12:case"end":return e.stop()}}),e)})))),D=Object(O.b)("items/postItem",function(){var e=Object(v.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=Object(G.a)(t,["type"]),e.abrupt("return",k("POST","".concat(n,"s"),(function(e){var t=e._id,a=Object(G.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},a),{},{id:t,type:n})}),JSON.stringify(a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(O.b)("items/putItem",function(){var e=Object(v.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.type,r=Object(G.a)(t,["id","type"]),e.abrupt("return",k("PUT",a+"s/"+n,(function(e){var t=e._id,n=Object(G.a)(e,["_id"]);return Object(g.a)(Object(g.a)({},n),{},{id:t,type:a})}),JSON.stringify(r)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=Object(O.c)({name:"items",initialState:[],extraReducers:(r={},Object(y.a)(r,I.fulfilled,(function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))})),Object(y.a)(r,N.fulfilled,(function(e,t){return t.payload})),Object(y.a)(r,D.fulfilled,(function(e,t){e.push(t.payload)})),Object(y.a)(r,P.fulfilled,(function(e,t){return e.map((function(e){return e.id===t.payload.id?Object(g.a)(Object(g.a)({},e),t.payload):e}))})),r)}),M=J.reducer,A=function(e){return function(){return Object(h.c)((function(t){return t[e.name]}))}},F=Object(O.a)({reducer:Object(R.c)({user:C,items:M}),middleware:Object(O.d)()}),K=n(49),H=n.n(K),U=n(84),q=n(85),Q=n.n(q),V=n(57),W=n.n(V),X=function(e){var t=e.item,n=e.children,a=Object(h.b)();return o.a.createElement(H.a,{onStop:function(e,n){var r=n.x,i=n.y;r!==t.position.x&&i!==t.position.y&&a(P({id:t.id,type:t.type,position:{x:r,y:i}}))},key:t.id,cancel:".button-resize",defaultPosition:Object(g.a)({},t.position)},o.a.createElement(U.ResizableBox,{minConstraints:[120,120],height:t.size.height,width:t.size.width,onResizeStop:function(e,n){var r=n.size;r.width!==t.size.width&&r.height!==t.size.height&&a(P({id:t.id,type:t.type,size:r}))},handle:o.a.createElement("button",{className:"button-resize",style:{borderRadius:"40px",border:"0px",right:".4em",bottom:"0.6em",height:0,width:0,position:"absolute",background:"none",cursor:"se-resize",outline:"none",fontSize:"initial"}},o.a.createElement(Q.a,{color:"disabled"})),style:{position:"absolute"}},o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"button-exit",onClick:function(){return a(I({id:t.id,type:t.type}))},style:{borderRadius:"40px",size:"2rem",border:"0px",right:".4em",top:"-1rem",height:0,width:0,position:"absolute",background:"none",cursor:"pointer",outline:"none",fontSize:"initial"}},o.a.createElement(W.a,{color:"error"})),n)))},Y=n(142),Z=n(147),$=function(e){var t=e.item,n=Object(h.b)(),a=Object(i.useState)(t.title),r=Object(L.a)(a,2),c=r[0],u=r[1],l=Object(i.useState)(t.description),s=Object(L.a)(l,2),d=s[0],p=s[1];return o.a.createElement(Y.a,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:10}},o.a.createElement(Z.a,{onChange:function(e){u(e.target.value)},onBlur:function(){t.title!==c&&n(P({id:t.id,type:t.type,title:c}))},value:c,color:"secondary",style:{width:"100%"}}),o.a.createElement(Z.a,{onChange:function(e){p(e.target.value)},onBlur:function(){t.description!==d&&n(P({id:t.id,type:t.type,description:d}))},variant:"outlined",value:d,color:"secondary",multiline:!0,style:{marginTop:10,width:"100%",height:"100%"},InputProps:{style:{height:"100%"}},inputProps:{style:{height:"100%",overflow:"auto"}}}))},ee=n(143),te=n(144),ne=n(148),ae=function(e){var t,n,a=e.item,r=e.todoItem,c=e.isNew,u=Object(h.b)(),l=Object(i.useState)(null!==(t=null===r||void 0===r?void 0:r.text)&&void 0!==t?t:""),s=Object(L.a)(l,2),d=s[0],p=s[1],b=Object(i.useState)(null!==(n=null===r||void 0===r?void 0:r.state)&&void 0!==n&&n),f=Object(L.a)(b,2),m=f[0],y=f[1],O=function(){var e;(null!==(e=null===r||void 0===r?void 0:r.text)&&void 0!==e?e:"")!==d&&u(P({id:a.id,type:a.type,items:c?[].concat(Object(B.a)(a.items),[{text:d,state:m}]):a.items.map((function(e){return e._id===r._id?!!d&&Object(g.a)(Object(g.a)({},r),{},{text:d,state:m}):e})).filter((function(e){return!1!==e}))})),c&&y(!1),c&&p("")};return o.a.createElement(te.a,{style:{paddingLeft:0,paddingRight:c?"2.2em":0,width:"100%"}},o.a.createElement(ne.a,{checked:m,onClick:function(e){y(!m),!c&&u(P({id:a.id,type:a.type,items:a.items.map((function(e){return e._id===r._id?Object(g.a)(Object(g.a)({},r),{},{text:d,state:!m}):e}))}))},color:"default"}),o.a.createElement(Z.a,{value:d,onChange:function(e){p(e.target.value)},onBlur:O,onKeyDown:function(e){var t,n,a,r,i,o,c,u;"Enter"===e.key&&(O(),null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a||null===(r=a.parentElement)||void 0===r||null===(i=r.nextElementSibling)||void 0===i||null===(o=i.children[1])||void 0===o||null===(c=o.firstElementChild)||void 0===c||null===(u=c.firstElementChild)||void 0===u||u.focus())},style:{width:"100%"},color:"secondary",placeholder:"New Todo Item"}),!c&&o.a.createElement(W.a,{style:{cursor:"pointer",width:"1em",marginLeft:".2em",color:"#ffffff66"},onMouseEnter:function(e){return e.target.style.color="#f44336"},onMouseLeave:function(e){return e.target.style.color="#ffffff66"},onClick:function(){return u(P({id:a.id,type:a.type,items:a.items.filter((function(e){return e._id!==r._id}))}))}}))},re=function(e){var t=e.item,n=Object(h.b)(),a=Object(i.useState)(t.title),r=Object(L.a)(a,2),c=r[0],u=r[1],l=Object(i.useState)(t.description),s=Object(L.a)(l,2),d=s[0],p=s[1],b=Object(i.useState)(!!t.description),f=Object(L.a)(b,2),m=f[0],y=f[1];return console.log(t,"ITEM"),o.a.createElement(Y.a,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:10}},o.a.createElement(Z.a,{onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&!m&&y(!0)},onBlur:function(){t.title!==c&&n(P({id:t.id,type:t.type,title:c}))},value:c,color:"secondary",style:{width:"100%"}}),o.a.createElement("div",{style:{overflow:"auto",width:"100%",height:"100%"}},m&&o.a.createElement(Z.a,{onChange:function(e){p(e.target.value)},onBlur:function(){t.description!==d&&n(P({id:t.id,type:t.type,description:d})),d||y(!1)},variant:"outlined",value:d,color:"secondary",multiline:!0,style:{marginTop:10,width:"100%"}}),o.a.createElement(ee.a,null,t.items.map((function(e){return o.a.createElement(ae,{item:t,todoItem:e,key:null===e||void 0===e?void 0:e._id})})),o.a.createElement(ae,{isNew:!0,item:t}))))},ie=function(){var e=Object(h.b)(),t=A(S)(),n=A(J)(),a=Object(i.useState)(!1),r=Object(L.a)(a,2),c=r[0],u=r[1];return Object(i.useEffect)((function(){e(w()).then((function(t){return t.payload.success&&e(N())}))}),[e]),Object(i.useEffect)((function(){var e;u(!(null===(e=t.authorized)||void 0===e||e))}),[t.authorized]),o.a.createElement("div",null,c&&o.a.createElement(T.a,{to:"login"}),o.a.createElement(m.a,{onClick:function(t){return e(D({type:"note",position:{x:20,y:20},size:{height:400,width:200}}))}},"Add Note"),o.a.createElement(m.a,{onClick:function(t){return e(D({type:"todo",position:{x:20,y:20},size:{height:400,width:200}}))}},"Add Todo"),n.map((function(e){return o.a.createElement(X,{item:e,key:e.id},"note"===e.type&&o.a.createElement($,{item:e}),"todo"===e.type&&o.a.createElement(re,{item:e}))})))},oe=function(){var e=Object(h.b)();return o.a.createElement(Y.a,null,o.a.createElement(m.a,{href:"https://task-organizer-backend.herokuapp.com/auth/github",type:"github",label:"Login with Github",height:50},"Github"),o.a.createElement(m.a,{href:"https://task-organizer-backend.herokuapp.com/auth/facebook",type:"facebook",label:"Login with Facebook",height:50},"Facebook"),o.a.createElement(m.a,{href:"https://task-organizer-backend.herokuapp.com/auth/google",type:"google",label:"Login with Google",height:50},"Google"),o.a.createElement(m.a,{onClick:function(){e(x())},type:"logout",label:"Logout",height:50},"Logout"))},ce=function(){return o.a.createElement(T.d,null,o.a.createElement(T.b,{path:"/login"},o.a.createElement(oe,null)),o.a.createElement(T.b,{path:"/settings"},"Settings"),o.a.createElement(T.b,{path:"/"},o.a.createElement(ie,null)))},ue=function(){return o.a.createElement(l.a,null,o.a.createElement(_,null),o.a.createElement(ce,null))},le=n(86),se=n(145),de=n(146),pe=Object(le.a)({palette:{type:"dark",primary:{main:"#53206E"},secondary:{main:"#3e53c2"}},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{width:"0.7em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.2)",borderRadius:20}}}}});u.a.render(o.a.createElement(h.a,{store:F},o.a.createElement(se.a,{theme:pe},o.a.createElement(de.a,null),o.a.createElement(ue,null))),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.685ca2f6.chunk.js.map