{"version":3,"sources":["api/index.js","store/slices/userSlice/deleteUser.js","store/slices/userSlice/editUser.js","store/slices/userSlice/login.js","store/slices/userSlice/logout.js","store/slices/userSlice/index.js","store/slices/categoriesSlice/deleteCategory.js","store/slices/categoriesSlice/fetchCategories.js","store/slices/categoriesSlice/postCategory.js","store/slices/categoriesSlice/putCategory.js","store/slices/categoriesSlice/index.js","store/slices/itemsSlice/deleteItem.js","store/slices/itemsSlice/deleteNotification.js","store/slices/itemsSlice/fetchAllItems.js","store/slices/itemsSlice/postItem.js","store/slices/itemsSlice/postNotification.js","store/slices/itemsSlice/putItem.js","store/slices/itemsSlice/index.js","store/index.js","components/common/NewCategoryDialog.js","components/common/CategoriesDrawer.js","components/Navbar.js","components/common/NotificationDialog.js","components/common/ContextMenu.js","components/Home/Item.js","components/hooks/useOnContextMenu.js","components/Home/Note.js","components/Home/TimeTable/Schedule/ContextTaskPicker.js","components/Home/TimeTable/Schedule/EventDialog.js","components/Home/TimeTable/Schedule/ScheduleEvent.js","components/Home/TimeTable/Schedule/ScheduleColumn.js","components/Home/TimeTable/Schedule/utils.js","components/Home/TimeTable/Schedule/FilePickerDialog.js","components/Home/TimeTable/CalendarPicker.js","components/Home/TimeTable/Schedule/index.js","components/Home/TimeTable/index.js","components/Home/Todo/TodoItem.js","components/Home/Todo/index.js","components/Home/index.js","components/Routes/Login.js","components/Routes/Settings.js","components/Routes/index.js","App.js","index.js"],"names":["api","method","url","callback","body","a","fetch","process","headers","credentials","then","response","status","json","console","log","catch","err","deleteUser","createAsyncThunk","editUser","email","JSON","stringify","login","logout","userSlice","createSlice","name","initialState","extraReducers","fulfilled","_state","action","payload","user","authorized","success","_action","state","deleteCategory","id","_id","data","fetchCategories","map","checked","postCategory","type","putCategory","categoriesSlice","reducers","toggleCategory","categoryIndex","findIndex","c","undefined","toggled","filter","Category","push","actions","deleteItem","deleteNotification","fetchAllItems","recurring","notifications","item","newItem","notification","find","n","events","event","postItem","postNotification","deadline","putItem","itemsSlice","selectSlice","slice","useSelector","store","configureStore","reducer","combineReducers","items","categories","middleware","getDefaultMiddleware","useNewCategoryDialog","useState","open","setOpen","newOpen","props","NewCategoryDialog","dispatch","useDispatch","labelField","setLabelField","colorField","setColorField","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","color","autoFocus","margin","label","fullWidth","value","onChange","e","target","DialogActions","Button","onClick","CategoriesDrawer","toggleDrawer","children","openDialog","anchor","Card","raised","style","minWidth","List","subheader","ListSubheader","userSelect","fontSize","component","Divider","ListItem","key","marginRight","FormControlLabel","control","Checkbox","position","right","cursor","width","Navbar","_e","useDrawer","Drawer","AppBar","Toolbar","IconButton","edge","aria-label","Link","to","height","NewNotificationDialog","description","descriptionField","setDescriptionField","Date","dateField","setDateField","notificationOffset","setNotificationOffset","PaperProps","disabled","marginBottom","display","utils","DateFnsUtils","DateTimePicker","variant","ampm","disablePast","date","getTime","marginLeft","InputLabel","htmlFor","Select","labelId","MenuItem","title","ContextMenu","openCategoryDialog","useNotificationDialog","openNotificationDialog","theme","category","oldCategories","includes","stopPropagation","preventDefault","onCategoryClick","hidden","Item","show","useContextMenu","ctrlKey","x","pageX","y","pageY","params","useOnContextMenu","onContextMenu","onStop","onStart","shiftKey","cancel","defaultPosition","minConstraints","size","onResizeStop","handle","className","borderRadius","border","bottom","background","outline","top","Note","setTitle","setDescription","flexDirection","padding","onBlur","multiline","marginTop","InputProps","inputProps","overflow","ContextTaskPicker","todos","timetable","todo","connections","onItemClick","text","EventDialog","day","hour","setConnections","useEffect","connection","i","t","days","summary","DialogContentText","split","justifyContent","alignItems","v","getHours","getMinutes","dateStart","getDay","useStyles","makeStyles","itemCard","ScheduleEvent","selectedEvents","classes","useEventDialog","start","end","dateEnd","pickedEvents","setPickedEvents","getHour","googleId","button","ScheduleColumn","sort","b","valueOf","0","1","2","3","4","5","6","getColumns","daysToMap","rules","Object","keys","reduce","arr","r","rrulestr","recurrence","join","between","setDate","getDate","secondDate","toLocaleString","minimumIntegerDigits","useGrouping","FilePickerDialog","inputFile","useRef","files","parseString","ref","accept","current","click","CalendarPicker","calendars","setCalendars","useFilePickerDialog","Array","isArray","google","CircularProgress","frequencies","RRule","DAILY","WEEKLY","schedule","grid","saveButton","Schedule","setRules","setSelectedEvents","length","rule","options","freq","dateCreated","created","dateTime","Grid","container","spacing","xs","justify","timeTable","TimeTable","descriptionVisible","setDescriptionVisible","onKeyDown","TodoItem","todoItem","isNew","setText","setState","saveItem","paddingLeft","paddingRight","parentElement","nextElementSibling","firstElementChild","focus","placeholder","onMouseEnter","onMouseLeave","Todo","Home","loginRedirect","setLoginRedirect","selectedCategories","Fab","some","Login","href","Settings","setEmail","Routes","path","App","createMuiTheme","palette","primary","main","secondary","overrides","MuiCssBaseline","backgroundColor","ReactDOM","render","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.393b0756.chunk.js","sourcesContent":["const api = async (method, url, callback, body) => {\r\n  return fetch(process.env.REACT_APP_API_URL + url, {\r\n    headers: { 'Content-Type': 'application/json' },\r\n    method,\r\n    credentials: 'include',\r\n    body,\r\n  })\r\n    .then((response) => (response.status === 200 ? response.json() : response))\r\n    .then((response) => {\r\n      console.log(\r\n        `%c ${method} `,\r\n        'background-color: lightblue; color: black;',\r\n        process.env.REACT_APP_API_URL + url,\r\n        response\r\n      );\r\n      return response;\r\n    })\r\n    .then(callback)\r\n    .catch((err) => console.log('ERROR!', err));\r\n};\r\n\r\nexport default api;\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const deleteUser = createAsyncThunk('user/delete', async () =>\r\n  api('DELETE', `user`)\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const editUser = createAsyncThunk('user/edit', async ({ email }) =>\r\n  api('PUT', `user`, ({ email }) => ({ email }), JSON.stringify({ email }))\r\n);\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport api from '../../../api';\r\n\r\nexport const login = createAsyncThunk('user/login', async () =>\r\n  api('GET', `auth`)\r\n);\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport api from '../../../api';\r\n\r\nexport const logout = createAsyncThunk('user/logout', async () =>\r\n  api('GET', `logout`)\r\n);\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { deleteUser } from './deleteUser';\r\nimport { editUser } from './editUser';\r\nimport { login } from './login';\r\nimport { logout } from './logout';\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState: {},\r\n  extraReducers: {\r\n    [login.fulfilled]: (_state, action) => ({\r\n      ...(action.payload?.user ?? {}),\r\n      authorized: action.payload?.success,\r\n    }),\r\n    [logout.fulfilled]: (_state, _action) => ({\r\n      authorized: false,\r\n    }),\r\n    [deleteUser.fulfilled]: (_state, _action) => ({\r\n      authorized: false,\r\n    }),\r\n    [editUser.fulfilled]: (state, action) => ({ ...state, ...action.payload }),\r\n  },\r\n});\r\n\r\nexport { login, logout, editUser, deleteUser };\r\n\r\nexport default userSlice.reducer;\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const deleteCategory = createAsyncThunk(\r\n  'categories/deleteCategory',\r\n  async ({ id }) =>\r\n    api('DELETE', `categories/` + id, ({ _id: id, ...data }) => ({\r\n      ...data,\r\n      id,\r\n    }))\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const fetchCategories = createAsyncThunk(\r\n  'categories/fetchCategories',\r\n  async () => [\r\n    ...(await api('GET', 'categories', (data) =>\r\n      data.map(({ _id: id, ...data }) => ({ ...data, id, checked: false }))\r\n    )),\r\n  ]\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const postCategory = createAsyncThunk(\r\n  'categories/postCategory',\r\n  async ({ type, ...body }) =>\r\n    api(\r\n      'POST',\r\n      `categories`,\r\n      ({ _id: id, ...data }) => ({ ...data, id }),\r\n      JSON.stringify(body)\r\n    )\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const putCategory = createAsyncThunk(\r\n  'categories/putCategory',\r\n  async ({ id, type, ...body }) =>\r\n    api(\r\n      'PUT',\r\n      'categories/' + id,\r\n      ({ _id: id, ...data }) => ({ ...data, id }),\r\n      JSON.stringify(body)\r\n    )\r\n);\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { deleteCategory } from './deleteCategory';\r\nimport { fetchCategories } from './fetchCategories';\r\nimport { postCategory } from './postCategory';\r\nimport { putCategory } from './putCategory';\r\n\r\nexport { deleteCategory, fetchCategories, postCategory, putCategory };\r\n\r\nexport const categoriesSlice = createSlice({\r\n  name: 'categories',\r\n  initialState: [],\r\n  reducers: {\r\n    toggleCategory: (state, action) => {\r\n      const categoryIndex = state.findIndex((c) => c.id === action.payload);\r\n      state[categoryIndex] !== undefined &&\r\n        (state[categoryIndex].toggled = !state[categoryIndex].toggled);\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [deleteCategory.fulfilled]: (state, action) =>\r\n      state.filter((Category) => Category.id !== action.payload.id),\r\n    [fetchCategories.fulfilled]: (_state, action) => action.payload,\r\n    [postCategory.fulfilled]: (state, action) => {\r\n      state.push(action.payload);\r\n    },\r\n    [putCategory.fulfilled]: (state, action) =>\r\n      state.map((Category) =>\r\n        Category.id === action.payload.id\r\n          ? { ...Category, ...action.payload }\r\n          : Category\r\n      ),\r\n  },\r\n});\r\n\r\nconst { toggleCategory } = categoriesSlice.actions;\r\nexport { toggleCategory };\r\n\r\nexport default categoriesSlice.reducer;\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport api from '../../../api';\r\n\r\nexport const deleteItem = createAsyncThunk(\r\n  'items/deleteItem',\r\n  async ({ id, type }) =>\r\n    api('DELETE', `${type}s/` + id, ({ _id: id, ...data }) => ({ ...data, id }))\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const deleteNotification = createAsyncThunk(\r\n  'items/deleteNotification',\r\n  async ({ id, type }) =>\r\n    api('DELETE', `notification/` + id, ({ data }) => ({\r\n      ...data,\r\n      id,\r\n      type,\r\n    }))\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const fetchAllItems = createAsyncThunk('items/fetchAll', async () => {\r\n  const notifications = await api('GET', 'notifications', (data) =>\r\n    data.map(({ _id: id, ...data }) => ({\r\n      ...data,\r\n      id,\r\n      type: data.recurring ? 'event' : 'item',\r\n    }))\r\n  );\r\n\r\n  return [\r\n    ...(await api('GET', 'notes', (data) =>\r\n      data.map(({ _id: id, ...data }) => ({ ...data, id, type: 'note' }))\r\n    )),\r\n    ...(await api('GET', 'todos', (data) =>\r\n      data.map(({ _id: id, ...data }) => ({ ...data, id, type: 'todo' }))\r\n    )),\r\n    ...(await api('GET', 'timetables', (data) =>\r\n      data.map(({ _id: id, ...data }) => ({ ...data, id, type: 'timeTable' }))\r\n    )),\r\n  ].map((item) => {\r\n    const newItem = {\r\n      ...item,\r\n      notification: notifications.find((n) => n.item === item.id),\r\n    };\r\n    if (newItem.type === 'timeTable') {\r\n      newItem.events = newItem.events.map((event) => ({\r\n        ...event,\r\n        notification: notifications.find((n) => n.item === event._id),\r\n      }));\r\n    }\r\n    return newItem;\r\n  });\r\n});\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport api from '../../../api';\r\n\r\nexport const postItem = createAsyncThunk(\r\n  'items/postItem',\r\n  async ({ type, ...body }) =>\r\n    api(\r\n      'POST',\r\n      `${type}s`,\r\n      ({ _id: id, ...data }) => ({ ...data, id, type }),\r\n      JSON.stringify(body)\r\n    )\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const postNotification = createAsyncThunk(\r\n  'items/postNotification',\r\n  async ({ type, deadline, ...body }) =>\r\n    api(\r\n      'POST',\r\n      `notification`,\r\n      ({ _id: id, ...data }) => ({\r\n        ...data,\r\n        id,\r\n        type,\r\n        deadline,\r\n      }),\r\n      JSON.stringify(body)\r\n    )\r\n);\r\n","import api from '../../../api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const putItem = createAsyncThunk(\r\n  'items/putItem',\r\n  async ({ id, type, ...body }) =>\r\n    api(\r\n      'PUT',\r\n      type + 's/' + id,\r\n      ({ _id: id, ...data }) => ({ ...data, id, type }),\r\n      JSON.stringify(body)\r\n    )\r\n);\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { deleteItem } from './deleteItem';\r\nimport { deleteNotification } from './deleteNotification';\r\nimport { fetchAllItems } from './fetchAllItems';\r\nimport { postItem } from './postItem';\r\nimport { postNotification } from './postNotification';\r\nimport { putItem } from './putItem';\r\n\r\nexport {\r\n  deleteItem,\r\n  deleteNotification,\r\n  fetchAllItems,\r\n  postItem,\r\n  postNotification,\r\n  putItem,\r\n};\r\n\r\nexport const itemsSlice = createSlice({\r\n  name: 'items',\r\n  initialState: [],\r\n  extraReducers: {\r\n    [deleteItem.fulfilled]: (state, action) =>\r\n      state.filter((item) => item.id !== action.payload.id),\r\n    [deleteNotification.fulfilled]: (state, action) =>\r\n      action.payload.type === 'event'\r\n        ? state.map((item) =>\r\n            item.type === 'timeTable'\r\n              ? {\r\n                  ...item,\r\n                  events: item.events.map((event) =>\r\n                    event.notification?.id === action.payload.id\r\n                      ? { ...event, notification: undefined }\r\n                      : event\r\n                  ),\r\n                }\r\n              : item\r\n          )\r\n        : state.map((item) =>\r\n            item.notification?.id === action.payload.id\r\n              ? {\r\n                  ...item,\r\n                  notification: undefined,\r\n                  deadline: undefined,\r\n                }\r\n              : item\r\n          ),\r\n    [fetchAllItems.fulfilled]: (_state, action) => action.payload,\r\n    [postItem.fulfilled]: (state, action) => {\r\n      state.push(action.payload);\r\n    },\r\n    [postNotification.fulfilled]: (state, action) =>\r\n      action.payload.type === 'event'\r\n        ? state.map((item) =>\r\n            item.type === 'timeTable'\r\n              ? {\r\n                  ...item,\r\n                  events: item.events.map((event) =>\r\n                    event._id === action.payload.item\r\n                      ? { ...event, notification: action.payload }\r\n                      : event\r\n                  ),\r\n                }\r\n              : item\r\n          )\r\n        : state.map((item) =>\r\n            item.id === action.payload.item\r\n              ? {\r\n                  ...item,\r\n                  notification: action.payload,\r\n                  deadline: action.payload.deadline,\r\n                }\r\n              : item\r\n          ),\r\n    [putItem.fulfilled]: (state, action) =>\r\n      state.map((item) =>\r\n        item.id === action.payload.id ? { ...item, ...action.payload } : item\r\n      ),\r\n  },\r\n});\r\n\r\nexport default itemsSlice.reducer;\r\n","import {\r\n  combineReducers,\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from '@reduxjs/toolkit';\r\n\r\nimport categories from './slices/categoriesSlice';\r\nimport items from './slices/itemsSlice';\r\nimport { useSelector } from 'react-redux';\r\nimport user from './slices/userSlice';\r\n\r\nexport const selectSlice = (slice) => () =>\r\n  useSelector((state) => state[slice.name]);\r\n\r\nconst store = configureStore({\r\n  reducer: combineReducers({ user, items, categories }),\r\n  middleware: getDefaultMiddleware(),\r\n});\r\n\r\nexport default store;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  TextField,\r\n} from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\n\r\nimport { postCategory } from '../../store/slices/categoriesSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const useNewCategoryDialog = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const openDialog = (newOpen = !open) => {\r\n    setOpen(newOpen);\r\n  };\r\n\r\n  const newCategoryDialog = (props) => (\r\n    <NewCategoryDialog {...{ ...props, open, setOpen }} />\r\n  );\r\n  return [openDialog, newCategoryDialog];\r\n};\r\n\r\nconst NewCategoryDialog = ({ open, setOpen }) => {\r\n  const dispatch = useDispatch();\r\n  const [labelField, setLabelField] = useState('');\r\n  const [colorField, setColorField] = useState('');\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => {\r\n        setOpen(false);\r\n      }}\r\n      aria-labelledby='form-dialog-title'>\r\n      <DialogTitle id='form-dialog-title'>Create new label</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          color='secondary'\r\n          autoFocus\r\n          margin='dense'\r\n          label='Label'\r\n          fullWidth\r\n          value={labelField}\r\n          onChange={(e) => {\r\n            setLabelField(e.target.value);\r\n          }}\r\n        />\r\n        <TextField\r\n          color='secondary'\r\n          margin='dense'\r\n          label='Color'\r\n          fullWidth\r\n          value={colorField}\r\n          onChange={(e) => {\r\n            setColorField(e.target.value);\r\n          }}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => {\r\n            setOpen(false);\r\n          }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            if (!labelField || !colorField) return false;\r\n\r\n            dispatch(postCategory({ label: labelField, color: colorField }));\r\n            setOpen(false);\r\n          }}>\r\n          Create\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default NewCategoryDialog;\r\n","import {\r\n  Button,\r\n  Card,\r\n  Checkbox,\r\n  Divider,\r\n  Drawer,\r\n  FormControlLabel,\r\n  List,\r\n  ListItem,\r\n  ListSubheader,\r\n} from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport {\r\n  categoriesSlice,\r\n  deleteCategory,\r\n  toggleCategory,\r\n} from '../../store/slices/categoriesSlice';\r\n\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport LabelIcon from '@material-ui/icons/Label';\r\nimport { selectSlice } from '../../store';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNewCategoryDialog } from './NewCategoryDialog';\r\n\r\nexport const useDrawer = () => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const toggleDrawer = (_e, newOpen = !open) => {\r\n    setOpen(newOpen);\r\n  };\r\n  const drawer = (props) => (\r\n    <CategoriesDrawer open={open} toggleDrawer={toggleDrawer} {...props} />\r\n  );\r\n  return [toggleDrawer, drawer];\r\n};\r\n\r\nexport const CategoriesDrawer = ({ toggleDrawer, open, children }) => {\r\n  const dispatch = useDispatch();\r\n  const categories = selectSlice(categoriesSlice)();\r\n  const [openDialog, NewCategoryDialog] = useNewCategoryDialog();\r\n\r\n  return (\r\n    <Drawer anchor={'left'} open={open} onClose={(e) => toggleDrawer(e, false)}>\r\n      <NewCategoryDialog />\r\n      <Card raised={false} style={{ minWidth: 300 }}>\r\n        <List\r\n          subheader={\r\n            <ListSubheader\r\n              style={{ userSelect: 'none', fontSize: 30 }}\r\n              component='h1'>\r\n              Filter Categories\r\n            </ListSubheader>\r\n          }>\r\n          <Divider />\r\n          {categories.map((c) => (\r\n            <ListItem key={c.id}>\r\n              <LabelIcon style={{ color: c.color, marginRight: 10 }} />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    style={{ color: 'white' }}\r\n                    checked={c.toggled ?? false}\r\n                    onChange={() => dispatch(toggleCategory(c.id))}\r\n                    name={c.id}\r\n                  />\r\n                }\r\n                label={c.label}\r\n              />\r\n              <DeleteIcon\r\n                onClick={() => {\r\n                  dispatch(deleteCategory({ id: c.id }));\r\n                }}\r\n                style={{\r\n                  color: '#f44336',\r\n                  position: 'absolute',\r\n                  right: 10,\r\n                  cursor: 'pointer',\r\n                }}\r\n              />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <Button style={{ width: '100%' }} onClick={() => openDialog(true)}>\r\n          <AddCircleIcon style={{ color: 'white', marginRight: 10 }} />\r\n          New category\r\n        </Button>\r\n      </Card>\r\n      {children}\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default CategoriesDrawer;\r\n","import { AppBar, Button, IconButton, Toolbar } from '@material-ui/core';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport React from 'react';\r\nimport { logout } from '../store/slices/userSlice';\r\nimport { selectSlice } from '../store';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useDrawer } from './common/CategoriesDrawer';\r\nimport { userSlice } from '../store/slices/userSlice';\r\n\r\nconst Navbar = () => {\r\n  const dispatch = useDispatch();\r\n  const user = selectSlice(userSlice)();\r\n  const [toggleDrawer, Drawer] = useDrawer();\r\n\r\n  return (\r\n    <AppBar position='static' color='primary'>\r\n      <Drawer />\r\n      <Toolbar>\r\n        <IconButton\r\n          onClick={(e) => toggleDrawer(e, true)}\r\n          edge='start'\r\n          color='inherit'\r\n          aria-label='menu'>\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Button component={Link} to={''} color='inherit'>\r\n          Home\r\n        </Button>\r\n        {user.authorized && (\r\n          <Button component={Link} to={'settings'} color='inherit'>\r\n            Settings\r\n          </Button>\r\n        )}\r\n        {user.authorized ? (\r\n          <Button\r\n            onClick={() => {\r\n              dispatch(logout());\r\n            }}\r\n            type={'logout'}\r\n            label={'Logout'}\r\n            height={50}\r\n            style={{\r\n              right: 0,\r\n              position: 'absolute',\r\n            }}>\r\n            Logout\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            component={Link}\r\n            to={'login'}\r\n            style={{\r\n              right: 0,\r\n              position: 'absolute',\r\n            }}>\r\n            Login\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n} from '@material-ui/core';\r\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport React, { useState } from 'react';\r\nimport {\r\n  deleteNotification,\r\n  postNotification,\r\n  putItem,\r\n} from '../../store/slices/itemsSlice';\r\n\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const useNotificationDialog = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const openDialog = (newOpen = !open) => {\r\n    setOpen(newOpen);\r\n  };\r\n\r\n  const newNotificationDialog = (props) => (\r\n    <NewNotificationDialog {...{ ...props, open, setOpen }} />\r\n  );\r\n  return [openDialog, newNotificationDialog];\r\n};\r\n\r\nconst NewNotificationDialog = ({ open, setOpen, item }) => {\r\n  const dispatch = useDispatch();\r\n  const [descriptionField, setDescriptionField] = useState(\r\n    item?.notification?.description ?? ''\r\n  );\r\n  const [dateField, setDateField] = useState(\r\n    item?.deadline ? new Date(item.deadline) : new Date()\r\n  );\r\n  const [notificationOffset, setNotificationOffset] = useState(false);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      PaperProps={{ style: { width: '50%' } }}\r\n      onClose={() => {\r\n        setOpen(false);\r\n      }}\r\n      aria-labelledby='form-dialog-title'>\r\n      <DialogTitle id='form-dialog-title'>Deadline</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          color='secondary'\r\n          autoFocus\r\n          margin='dense'\r\n          label='Description'\r\n          disabled={!!item?.deadline}\r\n          fullWidth\r\n          value={descriptionField}\r\n          style={{ marginBottom: 20 }}\r\n          onChange={(e) => {\r\n            setDescriptionField(e.target.value);\r\n          }}\r\n        />\r\n        <div style={{ display: 'flex' }}>\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <DateTimePicker\r\n              variant='inline'\r\n              color='secondary'\r\n              label='Deadline date'\r\n              ampm={false}\r\n              disabled={!!item?.deadline}\r\n              disablePast\r\n              value={dateField}\r\n              onChange={(date) => setDateField(date)}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n          {!item.deadline ? (\r\n            <div style={{ marginLeft: 20 }}>\r\n              <InputLabel htmlFor='notification-offset-select'>\r\n                Notify me\r\n              </InputLabel>\r\n              <Select\r\n                labelId='demo-simple-select-label'\r\n                id='notification-offset-select'\r\n                color='secondary'\r\n                disabled={!!item?.deadline}\r\n                value={notificationOffset}\r\n                onChange={(e) => setNotificationOffset(e.target.value)}>\r\n                <MenuItem value={false}>Off</MenuItem>\r\n                <MenuItem value={0}>On start</MenuItem>\r\n                <MenuItem value={15 * 60000}>15 minutes before</MenuItem>\r\n                <MenuItem value={60 * 60000}>1 hour before</MenuItem>\r\n                <MenuItem value={2 * 60 * 60000}>2 hours before</MenuItem>\r\n                <MenuItem value={6 * 60 * 60000}>6 hours before</MenuItem>\r\n                <MenuItem value={12 * 60 * 60000}>12 hours before</MenuItem>\r\n                <MenuItem value={24 * 60 * 60000}>1 day before</MenuItem>\r\n              </Select>\r\n            </div>\r\n          ) : (\r\n            item.notification &&\r\n            new Date(item.notification.date).getTime() >\r\n              new Date().getTime() && (\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <DateTimePicker\r\n                  style={{ marginLeft: 20 }}\r\n                  variant='inline'\r\n                  color='secondary'\r\n                  label='Notification date'\r\n                  ampm={false}\r\n                  disabled={true}\r\n                  disablePast\r\n                  value={new Date(item.notification?.date)}\r\n                  // onChange={(date) => setDateField(date)}\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n            )\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => {\r\n            setOpen(false);\r\n          }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            if (item.deadline) {\r\n              if (item.notification)\r\n                dispatch(\r\n                  deleteNotification({\r\n                    id: item.notification.id,\r\n                    type: 'item',\r\n                  })\r\n                );\r\n              dispatch(\r\n                putItem({\r\n                  id: item.id,\r\n                  type: item.type,\r\n                  deadline: '',\r\n                })\r\n              );\r\n            } else {\r\n              const date = new Date(dateField.getTime() - notificationOffset);\r\n              dispatch(\r\n                postNotification({\r\n                  item: item.id,\r\n                  type: 'item',\r\n                  recurring: false,\r\n                  date,\r\n                  label: `Deadline: ${item.title}`,\r\n                  description: descriptionField,\r\n                })\r\n              );\r\n              dispatch(\r\n                putItem({\r\n                  id: item.id,\r\n                  type: item.type,\r\n                  deadline: dateField,\r\n                })\r\n              );\r\n            }\r\n          }}>\r\n          {item?.deadline ? 'Delete deadline' : 'Create deadline'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default NewNotificationDialog;\r\n","import { Item, Menu, Separator, Submenu } from 'react-contexify';\r\nimport { deleteItem, postItem, putItem } from '../../store/slices/itemsSlice';\r\n\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport LabelIcon from '@material-ui/icons/Label';\r\nimport React from 'react';\r\nimport { categoriesSlice } from '../../store/slices/categoriesSlice';\r\nimport { selectSlice } from '../../store';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNewCategoryDialog } from './NewCategoryDialog';\r\nimport { useNotificationDialog } from './NotificationDialog';\r\n\r\nexport const ContextMenu = ({ id, props }) => {\r\n  const dispatch = useDispatch();\r\n  const [openCategoryDialog, NewCategoryDialog] = useNewCategoryDialog();\r\n  const [\r\n    openNotificationDialog,\r\n    NewNotificationDialog,\r\n  ] = useNotificationDialog();\r\n  const categories = selectSlice(categoriesSlice)();\r\n\r\n  const onDelete = () => {\r\n    props?.item &&\r\n      dispatch(deleteItem({ id: props?.item.id, type: props?.item.type }));\r\n  };\r\n\r\n  const onDuplicate = () => {\r\n    props?.item && dispatch(postItem({ ...props?.item, id: undefined }));\r\n  };\r\n\r\n  const onCategoryClick = ({ event }, category) => {\r\n    const oldCategories = props?.item?.categories ?? [];\r\n    const categories = oldCategories.includes(category.id)\r\n      ? oldCategories.filter((c) => c !== category.id)\r\n      : [...oldCategories, category.id];\r\n\r\n    dispatch(\r\n      putItem({ id: props?.item.id, type: props?.item.type, categories })\r\n    );\r\n\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NewCategoryDialog />\r\n      {props?.item?.type === 'todo' && (\r\n        <NewNotificationDialog item={props.item} />\r\n      )}\r\n      <Menu id={id} theme='dark' style={{ position: 'absolute' }}>\r\n        {props?.item?.type === 'todo' && (\r\n          <>\r\n            <Item\r\n              onClick={() => {\r\n                openNotificationDialog();\r\n              }}>\r\n              Deadline\r\n            </Item>\r\n            <Separator />\r\n          </>\r\n        )}\r\n        <Submenu label='Category'>\r\n          {categories.map((c) => (\r\n            <Item key={c.id} onClick={(e) => onCategoryClick(e, c)}>\r\n              <LabelIcon style={{ color: c.color, marginRight: 10 }} />\r\n              {(props?.item?.categories ?? []).includes(c.id) && <CheckIcon />}\r\n              {c.label}\r\n            </Item>\r\n          ))}\r\n          <Item onClick={() => openCategoryDialog(true)}>\r\n            <AddCircleIcon style={{ color: 'white', marginRight: 10 }} />\r\n            New Category\r\n          </Item>\r\n        </Submenu>\r\n        <Separator />\r\n        <Item hidden={!props?.item} onClick={onDuplicate}>\r\n          Duplicate\r\n        </Item>\r\n        <Item hidden={!props?.item} onClick={onDelete}>\r\n          Delete\r\n        </Item>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\nexport default ContextMenu;\r\n","import { deleteItem, putItem } from '../../store/slices/itemsSlice';\r\n\r\nimport AllOutIcon from '@material-ui/icons/AllOut';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Draggable from 'react-draggable';\r\nimport React from 'react';\r\nimport { ResizableBox } from 'react-resizable';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useOnContextMenu } from '../hooks/useOnContextMenu';\r\n\r\nconst Item = ({ item, children }) => {\r\n  const dispatch = useDispatch();\r\n  const [onContextMenu, ContextMenu] = useOnContextMenu(null, { item });\r\n\r\n  return (\r\n    <div\r\n      style={{ height: '100%', width: '100%' }}\r\n      onContextMenu={onContextMenu}>\r\n      <ContextMenu />\r\n\r\n      <Draggable\r\n        onStop={(_e, { x, y }) => {\r\n          if (x !== item.position.x && y !== item.position.y)\r\n            dispatch(\r\n              putItem({ id: item.id, type: item.type, position: { x, y } })\r\n            );\r\n        }}\r\n        onStart={(e) => {\r\n          if (e.shiftKey) return false;\r\n        }}\r\n        key={item.id}\r\n        cancel='.button-resize, .react-calendar, [role=\"dialog\"]'\r\n        defaultPosition={{ ...item.position }}>\r\n        <ResizableBox\r\n          minConstraints={[120, 120]}\r\n          height={item.size.height}\r\n          width={item.size.width}\r\n          onResizeStop={(_e, { size }) => {\r\n            if (\r\n              size.width !== item.size.width &&\r\n              size.height !== item.size.height\r\n            )\r\n              dispatch(putItem({ id: item.id, type: item.type, size }));\r\n          }}\r\n          handle={\r\n            <button\r\n              className='button-resize'\r\n              style={{\r\n                borderRadius: '40px',\r\n                border: '0px',\r\n                right: '.4em',\r\n                bottom: '0.6em',\r\n                height: 0,\r\n                width: 0,\r\n                position: 'absolute',\r\n                background: 'none',\r\n                cursor: 'se-resize',\r\n                outline: 'none',\r\n                fontSize: 'initial',\r\n              }}>\r\n              <AllOutIcon color='disabled' />\r\n            </button>\r\n          }\r\n          style={{\r\n            position: 'absolute',\r\n          }}>\r\n          <>\r\n            <button\r\n              className='button-exit'\r\n              onClick={() =>\r\n                dispatch(deleteItem({ id: item.id, type: item.type }))\r\n              }\r\n              style={{\r\n                borderRadius: '40px',\r\n                size: '2rem',\r\n                border: '0px',\r\n                right: '.4em',\r\n                top: '-1rem',\r\n                height: 0,\r\n                width: 0,\r\n                position: 'absolute',\r\n                background: 'none',\r\n                cursor: 'pointer',\r\n                outline: 'none',\r\n                fontSize: 'initial',\r\n              }}>\r\n              <CloseIcon color='error' />\r\n            </button>\r\n            {children}\r\n          </>\r\n        </ResizableBox>\r\n      </Draggable>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import 'react-contexify/dist/ReactContexify.css';\r\n\r\nimport { ContextMenu } from '../common/ContextMenu';\r\nimport React from 'react';\r\nimport { useContextMenu } from 'react-contexify';\r\n\r\nexport const useOnContextMenu = (id, props = {}) => {\r\n  const { show } = useContextMenu({\r\n    id: id || `${props?.item?.type}_${props?.item?.id}`,\r\n    props: props,\r\n  });\r\n\r\n  const onContextMenu = (e) => {\r\n    if (!e.ctrlKey)\r\n      show(e, {\r\n        position: {\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        },\r\n      });\r\n  };\r\n\r\n  const contextMenu = (params) => (\r\n    <ContextMenu\r\n      {...{\r\n        id: id || `${props?.item?.type}_${props?.item?.id}`,\r\n        ...params,\r\n        props: props || {},\r\n      }}\r\n    />\r\n  );\r\n\r\n  return [onContextMenu, contextMenu];\r\n};\r\n","import { Card, TextField } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\n\r\nimport { putItem } from '../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Note = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n  const [title, setTitle] = useState(item.title || '');\r\n  const [description, setDescription] = useState(item.description);\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n        width: '100%',\r\n        padding: 10,\r\n      }}>\r\n      <TextField\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n        onBlur={() => {\r\n          if (item.title !== title)\r\n            dispatch(putItem({ id: item.id, type: item.type, title }));\r\n        }}\r\n        value={title}\r\n        color='secondary'\r\n        style={{ width: '100%' }}\r\n      />\r\n\r\n      <TextField\r\n        onChange={(e) => {\r\n          setDescription(e.target.value);\r\n        }}\r\n        onBlur={() => {\r\n          if (item.description !== description)\r\n            dispatch(putItem({ id: item.id, type: item.type, description }));\r\n        }}\r\n        variant='outlined'\r\n        value={description}\r\n        color='secondary'\r\n        multiline\r\n        style={{\r\n          marginTop: 10,\r\n          width: '100%',\r\n          height: '100%',\r\n        }}\r\n        InputProps={{\r\n          style: {\r\n            height: '100%',\r\n          },\r\n        }}\r\n        inputProps={{\r\n          style: {\r\n            height: '100%',\r\n            overflow: 'auto',\r\n          },\r\n        }}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Note;\r\n","import { Item, Menu, Submenu } from 'react-contexify';\r\n\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport React from 'react';\r\nimport { putItem } from '../../../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const ContextTaskPicker = ({ id, props, todos, event, timetable }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onItemClick = (todo, item) => {\r\n    dispatch(\r\n      putItem({\r\n        id: timetable.id,\r\n        type: timetable.type,\r\n        events: timetable.events.map((e) =>\r\n          e._id === event._id\r\n            ? { ...e, connections: [...e.connections, item._id] }\r\n            : e\r\n        ),\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Menu id={id} theme='dark'>\r\n      {todos?.map((todo) => (\r\n        <Submenu key={todo.id} label={todo.title}>\r\n          {todo.items?.map((item) => (\r\n            <Item\r\n              disabled={event.connections.includes(item._id)}\r\n              key={item._id}\r\n              onClick={() => onItemClick(todo, item)}>\r\n              {item.state ? <CheckBoxIcon /> : <CheckBoxOutlineBlankIcon />}\r\n              {item.text}\r\n            </Item>\r\n          ))}\r\n        </Submenu>\r\n      ))}\r\n    </Menu>\r\n  );\r\n};\r\nexport default ContextTaskPicker;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {\r\n  deleteNotification,\r\n  itemsSlice,\r\n  postNotification,\r\n  putItem,\r\n} from '../../../../store/slices/itemsSlice';\r\n\r\nimport ContextTaskPicker from './ContextTaskPicker';\r\nimport { days } from './utils';\r\nimport { selectSlice } from '../../../../store';\r\nimport { useContextMenu } from 'react-contexify';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const useEventDialog = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const openDialog = (newOpen = !open) => {\r\n    setOpen(newOpen);\r\n  };\r\n\r\n  const newEventDialog = (props) => (\r\n    <EventDialog {...{ ...props, open, setOpen }} />\r\n  );\r\n  return [openDialog, newEventDialog];\r\n};\r\n\r\nconst EventDialog = ({ open, setOpen, event, day, hour, timetable }) => {\r\n  const dispatch = useDispatch();\r\n  const items = selectSlice(itemsSlice)();\r\n  const [notificationOffset, setNotificationOffset] = useState(0);\r\n  const [connections, setConnections] = useState([]);\r\n  const { show } = useContextMenu({\r\n    id: 'context-task-picker',\r\n  });\r\n\r\n  useEffect(() => {\r\n    setConnections(\r\n      event.connections?.map((connection) => {\r\n        return (\r\n          items.find((i) => i.id === connection) ||\r\n          items\r\n            .filter((i) => i.type === 'todo')\r\n            ?.find((i) => i.items?.find((t) => t._id === connection))\r\n            ?.items?.find((t) => t._id === connection)\r\n        );\r\n      })\r\n    );\r\n  }, [event, items]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => {\r\n        setOpen(false);\r\n      }}\r\n      style={{ padding: 5 }}\r\n      PaperProps={{ style: { width: '50%' } }}\r\n      aria-labelledby='form-dialog-title'>\r\n      <DialogContent>\r\n        <h5\r\n          style={{\r\n            padding: '0 24px',\r\n            margin: 0,\r\n            cursor: 'default',\r\n          }}>{`${days[day]} ${hour}`}</h5>\r\n        <ContextTaskPicker\r\n          todos={items.filter((i) => i.type === 'todo') || []}\r\n          id='context-task-picker'\r\n          event={event}\r\n          timetable={timetable}\r\n        />\r\n        <DialogTitle style={{ cursor: 'default' }} id='form-dialog-title'>\r\n          {event.summary}\r\n        </DialogTitle>\r\n        <DialogContentText\r\n          style={{\r\n            padding: '0 24px',\r\n            cursor: 'default',\r\n          }}>\r\n          {event.description?.split('\\n').map((i, key) => (\r\n            <span key={key}>\r\n              {i} <br />\r\n            </span>\r\n          ))}\r\n        </DialogContentText>\r\n\r\n        {connections\r\n          ?.filter((c) => c !== undefined)\r\n          .map((connection) => (\r\n            <Card\r\n              key={connection._id}\r\n              style={{\r\n                padding: 10,\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n              }}>\r\n              <div style={{ display: 'flex', alignItems: 'flex-end' }}>\r\n                <Checkbox\r\n                  checked={connection.state}\r\n                  onClick={() => {\r\n                    const todo = items\r\n                      .filter((i) => i.type === 'todo')\r\n                      ?.find((i) =>\r\n                        i.items?.find((t) => t._id === connection._id)\r\n                      );\r\n                    dispatch(\r\n                      putItem({\r\n                        id: todo.id,\r\n                        type: todo.type,\r\n                        items: todo.items.map((v) =>\r\n                          v._id === connection._id\r\n                            ? { ...v, state: !connection.state }\r\n                            : v\r\n                        ),\r\n                      })\r\n                    );\r\n                  }}\r\n                  color='default'\r\n                />\r\n                <DialogContentText style={{ cursor: 'default' }}>\r\n                  {connection.title || connection.text}\r\n                </DialogContentText>\r\n              </div>\r\n              <Button\r\n                onClick={() => {\r\n                  dispatch(\r\n                    putItem({\r\n                      id: timetable.id,\r\n                      type: timetable.type,\r\n                      events: timetable.events.map((e) =>\r\n                        e._id === event._id\r\n                          ? {\r\n                              ...event,\r\n                              connections: event.connections.filter(\r\n                                (c) => c !== connection._id\r\n                              ),\r\n                            }\r\n                          : e\r\n                      ),\r\n                    })\r\n                  );\r\n                }}>\r\n                Disconnect task\r\n              </Button>\r\n            </Card>\r\n          ))}\r\n        <Card\r\n          style={{\r\n            padding: 10,\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n          }}>\r\n          <div>\r\n            <DialogContentText style={{ cursor: 'default' }}>\r\n              {event?.notification?.label}\r\n            </DialogContentText>\r\n          </div>\r\n          <Button\r\n            onClick={(e) => {\r\n              show(e);\r\n            }}>\r\n            Connect task\r\n          </Button>\r\n        </Card>\r\n\r\n        {!event.notification ? (\r\n          <Card\r\n            style={{\r\n              padding: 10,\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n            }}>\r\n            <div>\r\n              <InputLabel htmlFor='notification-offset-select'>\r\n                Notify me\r\n              </InputLabel>\r\n              <Select\r\n                id='notification-offset-select'\r\n                value={notificationOffset}\r\n                onChange={(e) => setNotificationOffset(e.target.value)}>\r\n                <MenuItem value={0}>On start</MenuItem>\r\n                <MenuItem value={15 * 60000}>15 minutes before</MenuItem>\r\n                <MenuItem value={60 * 60000}>1 hour before</MenuItem>\r\n                <MenuItem value={2 * 60 * 60000}>2 hours before</MenuItem>\r\n                <MenuItem value={6 * 60 * 60000}>6 hours before</MenuItem>\r\n                <MenuItem value={12 * 60 * 60000}>12 hours before</MenuItem>\r\n                <MenuItem value={24 * 60 * 60000}>1 day before</MenuItem>\r\n              </Select>\r\n            </div>\r\n            <Button\r\n              onClick={() => {\r\n                const date = new Date(\r\n                  new Date(event.dateStart).getTime() - notificationOffset\r\n                );\r\n                dispatch(\r\n                  postNotification({\r\n                    item: event._id,\r\n                    type: 'event',\r\n                    recurring: true,\r\n                    date,\r\n                    label: event.summary,\r\n                    description: event.description,\r\n                    day:\r\n                      day -\r\n                      (new Date(event.dateStart).getDay() +\r\n                        1 -\r\n                        (date.getDay() + 1)),\r\n                  })\r\n                );\r\n              }}>\r\n              Create notification\r\n            </Button>\r\n          </Card>\r\n        ) : (\r\n          <Card\r\n            style={{\r\n              padding: 10,\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n            }}>\r\n            <div>\r\n              <DialogContentText>\r\n                {`${days[event?.notification?.day]} ${new Date(\r\n                  event?.notification?.date\r\n                ).getHours()} : ${new Date(\r\n                  event?.notification?.date\r\n                ).getMinutes()}`}\r\n              </DialogContentText>\r\n              <DialogContentText>\r\n                {event?.notification?.label}\r\n              </DialogContentText>\r\n            </div>\r\n            <Button\r\n              onClick={() => {\r\n                dispatch(\r\n                  deleteNotification({\r\n                    id: event.notification.id,\r\n                    type: 'event',\r\n                  })\r\n                );\r\n              }}>\r\n              Delete notification\r\n            </Button>\r\n          </Card>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => {\r\n            setOpen(false);\r\n          }}>\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EventDialog;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport { Card, Divider, ListItem } from '@material-ui/core';\r\n\r\nimport React from 'react';\r\nimport { getHour } from './utils';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useEventDialog } from './EventDialog';\r\n\r\nconst ScheduleEvent = ({ day, event, selectedEvents = [], timetable }) => {\r\n  const classes = useStyles();\r\n  const [openDialog, EventDialog] = useEventDialog();\r\n  const start = new Date(event.dateStart);\r\n  const end = new Date(event.dateEnd);\r\n  const [pickedEvents, setPickedEvents] = selectedEvents;\r\n\r\n  return (\r\n    <>\r\n      <EventDialog\r\n        day={day}\r\n        event={event}\r\n        hour={`${getHour(start)} - ${getHour(end)}`}\r\n        timetable={timetable}\r\n      />\r\n      <ListItem\r\n        key={event.googleId}\r\n        className={classes.item}\r\n        button\r\n        onClick={() => {\r\n          if (!pickedEvents) {\r\n            openDialog();\r\n          } else {\r\n            if (pickedEvents.find((e) => e.id === event.googleId))\r\n              setPickedEvents(\r\n                pickedEvents.filter((e) => e.id !== event.googleId)\r\n              );\r\n            else\r\n              setPickedEvents([...pickedEvents, { id: event.googleId, day }]);\r\n          }\r\n        }}>\r\n        <Card\r\n          raised={!!pickedEvents?.find((e) => e.id === event.googleId)}\r\n          className={classes.itemCard}>\r\n          {`${getHour(start)} - ${getHour(end)}`}\r\n          <br />\r\n          {event.summary}\r\n        </Card>\r\n        <Divider />\r\n      </ListItem>\r\n    </>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  item: {\r\n    margin: '10px 0px',\r\n    width: '100%',\r\n    padding: 0,\r\n  },\r\n  itemCard: {\r\n    height: '100%',\r\n    width: '100%',\r\n    padding: 8,\r\n  },\r\n});\r\n\r\nexport default ScheduleEvent;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport { Divider, List, ListItem } from '@material-ui/core';\r\n\r\nimport React from 'react';\r\nimport ScheduleEvent from './ScheduleEvent';\r\nimport { days } from './utils';\r\n\r\nconst ScheduleColumn = ({ day, events, selectedEvents = [], timetable }) => {\r\n  return (\r\n    <List>\r\n      <ListItem>{days[day]}</ListItem>\r\n      <Divider />\r\n      {events\r\n        .sort(\r\n          (a, b) =>\r\n            new Date(b.dateStart).valueOf() - new Date(a.dateEnd).valueOf()\r\n        )\r\n        .map((event) => {\r\n          return (\r\n            <ScheduleEvent\r\n              key={event.googleId || event._id}\r\n              day={day}\r\n              event={event}\r\n              selectedEvents={selectedEvents}\r\n              timetable={timetable}\r\n            />\r\n          );\r\n        })}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default ScheduleColumn;\r\n","import React from 'react';\r\nimport ScheduleColumn from './ScheduleColumn';\r\nimport { rrulestr } from 'rrule';\r\n\r\nexport const days = {\r\n  0: 'Monday',\r\n  1: 'Tuesday',\r\n  2: 'Wednesday',\r\n  3: 'Thursday',\r\n  4: 'Friday',\r\n  5: 'Saturday',\r\n  6: 'Sunday',\r\n};\r\n\r\nexport const getDate = (days) => {\r\n  const date = new Date();\r\n  date.setDate(date.getDate() + ((7 - date.getDay()) % 7) + 1 + days);\r\n  const secondDate = new Date(date);\r\n  secondDate.setDate(date.getDate() + 1);\r\n  return [date, secondDate];\r\n};\r\n\r\nexport const getColumns = (\r\n  daysToMap,\r\n  { rules = [] },\r\n  selectedEvents,\r\n  timetable\r\n) =>\r\n  Object.keys(daysToMap).map((day) => (\r\n    <ScheduleColumn\r\n      key={day}\r\n      day={day}\r\n      selectedEvents={selectedEvents}\r\n      timetable={timetable}\r\n      events={[\r\n        ...rules.reduce(\r\n          (arr, r) => [\r\n            ...arr,\r\n            ...rrulestr(r.recurrence.join('\\n'))\r\n              .between(...getDate(day))\r\n              .map((date) => ({ ...r, date })),\r\n          ],\r\n          []\r\n        ),\r\n      ]}\r\n    />\r\n  ));\r\n\r\nexport const getHour = (date) =>\r\n  `${date.getHours().toLocaleString('en-US', {\r\n    minimumIntegerDigits: 2,\r\n    useGrouping: false,\r\n  })}:${date\r\n    .getMinutes()\r\n    .toLocaleString('en-US', { minimumIntegerDigits: 2, useGrouping: false })}`;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n} from '@material-ui/core';\r\nimport React, { useRef, useState } from 'react';\r\n\r\nimport { parseString } from 'cal-parser';\r\n\r\nexport const useFilePickerDialog = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const openDialog = (newOpen = !open) => {\r\n    setOpen(newOpen);\r\n  };\r\n\r\n  const newFilePickerDialog = (props) => (\r\n    <FilePickerDialog {...{ ...props, open, setOpen }} />\r\n  );\r\n  return [openDialog, newFilePickerDialog];\r\n};\r\n\r\nconst FilePickerDialog = ({ open, setOpen }) => {\r\n  const inputFile = useRef(null);\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => {\r\n        setOpen(false);\r\n      }}\r\n      style={{ padding: 5 }}\r\n      PaperProps={{ style: { width: '50%' } }}\r\n      aria-labelledby='form-dialog-title'>\r\n      <DialogContent>\r\n        <DialogTitle style={{ cursor: 'default' }} id='form-dialog-title'>\r\n          Pick .ico file\r\n        </DialogTitle>\r\n        <input\r\n          onChange={async (e) => {\r\n            console.log(\r\n              e,\r\n              e.target.files[0],\r\n              // await e.target.files[0].text(),\r\n              parseString(await e.target.files[0].text())\r\n            );\r\n          }}\r\n          type='file'\r\n          ref={inputFile}\r\n          id='file-selector'\r\n          accept='.ics'\r\n          style={{ display: 'none' }}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => {\r\n            setOpen(false);\r\n          }}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            inputFile.current.click();\r\n            // setOpen(false);\r\n          }}>\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default FilePickerDialog;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport { CircularProgress, List, ListItem } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport api from '../../../api';\r\nimport { putItem } from '../../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useFilePickerDialog } from './Schedule/FilePickerDialog';\r\n\r\nconst CalendarPicker = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n  const [calendars, setCalendars] = useState(null);\r\n  const [openDialog, FilePickerDialog] = useFilePickerDialog();\r\n\r\n  useEffect(() => {\r\n    api('GET', 'calendars').then((data) => {\r\n      if (Array.isArray(data)) setCalendars(data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <List>\r\n      <FilePickerDialog />\r\n      {/* <input\r\n        type='file'\r\n        id='file-selector'\r\n        multiple={false}\r\n        accept='.ics'></input> */}\r\n      <ListItem\r\n        button\r\n        onClick={() => {\r\n          openDialog();\r\n          // dispatch(putItem({ id: item.id, type: item.type, google: c.id }));\r\n        }}>\r\n        Add from file\r\n      </ListItem>\r\n      {calendars ? (\r\n        calendars.map((c) => (\r\n          <ListItem\r\n            button\r\n            onClick={() => {\r\n              dispatch(putItem({ id: item.id, type: item.type, google: c.id }));\r\n            }}\r\n            key={c.id}>\r\n            {c.summary}\r\n          </ListItem>\r\n        ))\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default CalendarPicker;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport { Card, CircularProgress, Grid, IconButton } from '@material-ui/core';\r\nimport { RRule, rrulestr } from 'rrule';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { days, getColumns } from './utils';\r\n\r\nimport CalendarPicker from '../CalendarPicker';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport api from '../../../../api';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { putItem } from '../../../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst frequencies = [RRule.DAILY, RRule.WEEKLY];\r\n\r\nconst Schedule = ({ item }) => {\r\n  const classes = useStyles();\r\n  const [rules, setRules] = useState();\r\n  const [selectedEvents, setSelectedEvents] = useState([]);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    item.google &&\r\n      !item.events?.length &&\r\n      api('GET', 'calendar/events/?calendarId=' + item.google, (data) =>\r\n        data\r\n          .filter((c) => c.recurrence)\r\n          .map((c) => ({ ...c, rule: rrulestr(c.recurrence.join('\\n')) }))\r\n          .filter((c) => frequencies.includes(c.rule.options.freq))\r\n          .map((c) => ({\r\n            dateCreated: c.created,\r\n            dateStart: c.start.dateTime,\r\n            dateEnd: c.end.dateTime,\r\n            googleId: c.id,\r\n            description: c.description,\r\n            summary: c.summary,\r\n            recurrence: c.recurrence,\r\n          }))\r\n      ).then((data) => setRules(data));\r\n  }, [item.google, item.events?.length]);\r\n\r\n  return (\r\n    <Card className={classes.schedule}>\r\n      <Grid container spacing={2} className={classes.grid}>\r\n        <Grid item xs={12}>\r\n          <Grid container justify='space-evenly' spacing={2}>\r\n            {item.google ? (\r\n              item.events?.length ? (\r\n                getColumns(days, { rules: item.events }, undefined, item)\r\n              ) : rules ? (\r\n                getColumns(\r\n                  days,\r\n                  { rules },\r\n                  [selectedEvents, setSelectedEvents],\r\n                  item\r\n                )\r\n              ) : (\r\n                <CircularProgress />\r\n              )\r\n            ) : (\r\n              <CalendarPicker item={item} />\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {item.google && !item.events?.length && (\r\n        <IconButton\r\n          className={classes.saveButton}\r\n          disabled={selectedEvents.length <= 0}\r\n          onClick={() => {\r\n            selectedEvents.length > 0 &&\r\n              dispatch(\r\n                putItem({\r\n                  id: item.id,\r\n                  type: item.type,\r\n                  events: rules.filter((r) =>\r\n                    selectedEvents.find((e) => e.id === r.googleId)\r\n                  ),\r\n                })\r\n              );\r\n          }}\r\n          aria-label='save timetable'>\r\n          <SaveIcon />\r\n        </IconButton>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  schedule: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  grid: {\r\n    overflow: 'auto',\r\n  },\r\n  saveButton: {\r\n    position: 'absolute',\r\n    right: 10,\r\n    bottom: 10,\r\n  },\r\n});\r\n\r\nexport default Schedule;\r\n","import 'react-calendar/dist/Calendar.css';\r\n\r\nimport { Card, TextField } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\n\r\nimport Schedule from './Schedule';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { putItem } from '../../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst TimeTable = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n  const [title, setTitle] = useState(item.title || '');\r\n  const [description, setDescription] = useState(item.description);\r\n  const [descriptionVisible, setDescriptionVisible] = useState(\r\n    !!item.description\r\n  );\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.timeTable}>\r\n      <TextField\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter') {\r\n            !descriptionVisible && setDescriptionVisible(true);\r\n          }\r\n        }}\r\n        onBlur={() => {\r\n          if (item.title !== title)\r\n            dispatch(putItem({ id: item.id, type: item.type, title }));\r\n        }}\r\n        value={title}\r\n        color='secondary'\r\n        style={{ width: '100%' }}\r\n      />\r\n      {descriptionVisible && (\r\n        <TextField\r\n          onChange={(e) => {\r\n            setDescription(e.target.value);\r\n          }}\r\n          onBlur={() => {\r\n            if (item.description !== description)\r\n              dispatch(putItem({ id: item.id, type: item.type, description }));\r\n            if (!description) setDescriptionVisible(false);\r\n          }}\r\n          variant='outlined'\r\n          value={description}\r\n          color='secondary'\r\n          multiline\r\n          style={{\r\n            marginTop: 10,\r\n            marginBottom: 10,\r\n            width: '100%',\r\n          }}\r\n        />\r\n      )}\r\n      <Schedule item={item} />\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  timeTable: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    width: '100%',\r\n    padding: 10,\r\n  },\r\n});\r\n\r\nexport default TimeTable;\r\n","import { Checkbox, ListItem, TextField } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { putItem } from '../../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst TodoItem = ({ item, todoItem, isNew }) => {\r\n  const dispatch = useDispatch();\r\n  const [text, setText] = useState(todoItem?.text ?? '');\r\n  const [state, setState] = useState(todoItem?.state ?? false);\r\n\r\n  useEffect(() => {\r\n    setState(todoItem?.state ?? false);\r\n  }, [todoItem]);\r\n\r\n  const saveItem = () => {\r\n    if ((todoItem?.text ?? '') !== text) {\r\n      dispatch(\r\n        putItem({\r\n          id: item.id,\r\n          type: item.type,\r\n          items: isNew\r\n            ? [...item.items, { text, state }]\r\n            : item.items\r\n                .map((v) =>\r\n                  v._id === todoItem._id\r\n                    ? !!text && { ...todoItem, text, state }\r\n                    : v\r\n                )\r\n                .filter((v) => v !== false),\r\n        })\r\n      );\r\n    }\r\n    isNew && setState(false);\r\n    isNew && setText('');\r\n  };\r\n\r\n  return (\r\n    <ListItem\r\n      style={{\r\n        paddingLeft: 0,\r\n        paddingRight: isNew ? '2.2em' : 0,\r\n        width: '100%',\r\n      }}>\r\n      <Checkbox\r\n        checked={state}\r\n        onClick={(e) => {\r\n          setState(!state);\r\n          !isNew &&\r\n            dispatch(\r\n              putItem({\r\n                id: item.id,\r\n                type: item.type,\r\n                items: item.items.map((v) =>\r\n                  v._id === todoItem._id\r\n                    ? { ...todoItem, text, state: !state }\r\n                    : v\r\n                ),\r\n              })\r\n            );\r\n        }}\r\n        color='default'\r\n      />\r\n      <TextField\r\n        value={text}\r\n        onChange={(e) => {\r\n          setText(e.target.value);\r\n        }}\r\n        onBlur={saveItem}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter') {\r\n            saveItem();\r\n            e.target?.parentElement?.parentElement?.parentElement?.nextElementSibling?.children[1]?.firstElementChild?.firstElementChild?.focus();\r\n          }\r\n        }}\r\n        style={{ width: '100%' }}\r\n        color='secondary'\r\n        placeholder='New Todo Item'\r\n      />\r\n      {!isNew && (\r\n        <CloseIcon\r\n          style={{\r\n            cursor: 'pointer',\r\n            width: '1em',\r\n            marginLeft: '.2em',\r\n            color: '#ffffff66',\r\n          }}\r\n          onMouseEnter={(e) => (e.target.style.color = '#f44336')}\r\n          onMouseLeave={(e) => (e.target.style.color = '#ffffff66')}\r\n          onClick={() =>\r\n            dispatch(\r\n              putItem({\r\n                id: item.id,\r\n                type: item.type,\r\n                items: item.items.filter((v) => v._id !== todoItem._id),\r\n              })\r\n            )\r\n          }\r\n        />\r\n      )}\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import { Card, List, TextField } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\n\r\nimport TodoItem from './TodoItem';\r\nimport { putItem } from '../../../store/slices/itemsSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Todo = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n  const [title, setTitle] = useState(item.title || '');\r\n  const [description, setDescription] = useState(item.description);\r\n  const [descriptionVisible, setDescriptionVisible] = useState(\r\n    !!item.description\r\n  );\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n        width: '100%',\r\n        padding: 10,\r\n      }}>\r\n      <TextField\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter') {\r\n            !descriptionVisible && setDescriptionVisible(true);\r\n          }\r\n        }}\r\n        onBlur={() => {\r\n          if (item.title !== title)\r\n            dispatch(putItem({ id: item.id, type: item.type, title }));\r\n        }}\r\n        value={title}\r\n        color='secondary'\r\n        style={{ width: '100%' }}\r\n      />\r\n      <div\r\n        style={{\r\n          overflow: 'auto',\r\n          width: '100%',\r\n          height: '100%',\r\n        }}>\r\n        {descriptionVisible && (\r\n          <TextField\r\n            onChange={(e) => {\r\n              setDescription(e.target.value);\r\n            }}\r\n            onBlur={() => {\r\n              if (item.description !== description)\r\n                dispatch(\r\n                  putItem({ id: item.id, type: item.type, description })\r\n                );\r\n              if (!description) setDescriptionVisible(false);\r\n            }}\r\n            variant='outlined'\r\n            value={description}\r\n            color='secondary'\r\n            multiline\r\n            style={{\r\n              marginTop: 10,\r\n              width: '100%',\r\n            }}\r\n          />\r\n        )}\r\n        <List>\r\n          {item.items.map((value) => (\r\n            <TodoItem item={item} todoItem={value} key={value?._id} />\r\n          ))}\r\n          <TodoItem isNew item={item} />\r\n        </List>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Todo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  categoriesSlice,\r\n  fetchCategories,\r\n} from '../../store/slices/categoriesSlice';\r\nimport {\r\n  fetchAllItems,\r\n  itemsSlice,\r\n  postItem,\r\n} from '../../store/slices/itemsSlice';\r\nimport { login, userSlice } from '../../store/slices/userSlice';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab } from '@material-ui/core';\r\nimport Item from './Item';\r\nimport Note from './Note';\r\nimport { Redirect } from 'react-router-dom';\r\nimport TimeTable from './TimeTable';\r\nimport Todo from './Todo';\r\nimport { selectSlice } from '../../store';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const user = selectSlice(userSlice)();\r\n  const items = selectSlice(itemsSlice)();\r\n\r\n  const [loginRedirect, setLoginRedirect] = useState(false);\r\n  const categories = selectSlice(categoriesSlice)();\r\n  const selectedCategories =\r\n    categories.filter((c) => c.toggled).map((c) => c.id) || [];\r\n\r\n  useEffect(() => {\r\n    dispatch(login()).then((e) => {\r\n      if (e.payload?.success) {\r\n        dispatch(fetchCategories());\r\n        dispatch(fetchAllItems());\r\n      }\r\n    });\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    setLoginRedirect(!(user.authorized ?? true));\r\n  }, [user.authorized]);\r\n\r\n  return (\r\n    <div>\r\n      {loginRedirect && <Redirect to='login' />}\r\n      <div>\r\n        <Fab\r\n          color='secondary'\r\n          style={{ margin: '10px 5px' }}\r\n          onClick={(e) =>\r\n            dispatch(\r\n              postItem({\r\n                type: 'note',\r\n                position: { x: 20, y: 20 },\r\n                size: { height: 400, width: 200 },\r\n              })\r\n            )\r\n          }\r\n          size='medium'\r\n          variant='extended'>\r\n          <AddIcon />\r\n          Note\r\n        </Fab>\r\n        <Fab\r\n          color='secondary'\r\n          style={{ margin: '10px 5px' }}\r\n          onClick={(e) =>\r\n            dispatch(\r\n              postItem({\r\n                type: 'todo',\r\n                position: { x: 20, y: 20 },\r\n                size: { height: 400, width: 200 },\r\n              })\r\n            )\r\n          }\r\n          size='medium'\r\n          variant='extended'>\r\n          <AddIcon />\r\n          Todo\r\n        </Fab>\r\n        <Fab\r\n          color='secondary'\r\n          style={{ margin: '10px 5px' }}\r\n          onClick={(e) =>\r\n            dispatch(\r\n              postItem({\r\n                type: 'timeTable',\r\n                position: { x: 20, y: 20 },\r\n                size: { height: 400, width: 800 },\r\n              })\r\n            )\r\n          }\r\n          size='medium'\r\n          variant='extended'>\r\n          <AddIcon />\r\n          TimeTable\r\n        </Fab>\r\n      </div>\r\n      {items\r\n        .filter(\r\n          (i) =>\r\n            !selectedCategories.length > 0 ||\r\n            selectedCategories.some((c) => i.categories.includes(c))\r\n        )\r\n        .map((item) => (\r\n          <Item item={item} key={item.id}>\r\n            {item.type === 'note' && <Note item={item} />}\r\n            {item.type === 'todo' && <Todo item={item} />}\r\n            {item.type === 'timeTable' && <TimeTable item={item} />}\r\n          </Item>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { Button, Card } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst Login = () => {\r\n  return (\r\n    <Card\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: 10,\r\n        margin: '10% auto',\r\n        width: 'fit-content',\r\n      }}>\r\n      <Button\r\n        href={process.env.REACT_APP_API_URL + 'auth/github'}\r\n        type={'github'}\r\n        label={'Login with Github'}\r\n        height={50}>\r\n        Github\r\n      </Button>\r\n      <Button\r\n        href={process.env.REACT_APP_API_URL + 'auth/facebook'}\r\n        type={'facebook'}\r\n        label={'Login with Facebook'}\r\n        height={50}>\r\n        Facebook\r\n      </Button>\r\n      <Button\r\n        href={process.env.REACT_APP_API_URL + 'auth/google'}\r\n        type={'google'}\r\n        label={'Login with Google'}\r\n        height={50}>\r\n        Google\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { Button, Card, TextField } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { deleteUser, editUser, userSlice } from '../../store/slices/userSlice';\r\n\r\nimport { selectSlice } from '../../store';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Settings = () => {\r\n  const dispatch = useDispatch();\r\n  const user = selectSlice(userSlice)();\r\n  const [email, setEmail] = useState(user.email || '');\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: 10,\r\n        margin: '10% auto',\r\n        width: 'fit-content',\r\n      }}>\r\n      <TextField\r\n        onChange={(e) => {\r\n          setEmail(e.target.value);\r\n        }}\r\n        value={email}\r\n        color='secondary'\r\n        style={{ width: '100%' }}\r\n      />\r\n      <Button\r\n        onClick={() => {\r\n          dispatch(editUser({ email }));\r\n        }}\r\n        label={'Change Email'}\r\n        height={50}>\r\n        Change Email\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          dispatch(deleteUser());\r\n        }}\r\n        label={'Delete Account'}\r\n        height={50}>\r\n        Delete Account\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import { Route, Switch } from 'react-router-dom';\r\n\r\nimport Home from '../Home';\r\nimport Login from './Login';\r\nimport React from 'react';\r\nimport Settings from './Settings';\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <Route path='/login'>\r\n      <Login />\r\n    </Route>\r\n    <Route path='/settings'>\r\n      <Settings />\r\n    </Route>\r\n    <Route path='/'>\r\n      <Home />\r\n    </Route>\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport Navbar from './components/Navbar';\r\nimport Routes from './components/Routes';\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Navbar />\r\n      <Routes />\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import {\r\n  CssBaseline,\r\n  MuiThemeProvider,\r\n  createMuiTheme,\r\n} from '@material-ui/core';\r\n\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport store from './store';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: { main: '#53206E' },\r\n    secondary: { main: '#abb8ff' },\r\n  },\r\n  overrides: {\r\n    /** Custom scrollbar */\r\n    MuiCssBaseline: {\r\n      '@global': {\r\n        '*::-webkit-scrollbar': {\r\n          width: '0.7em',\r\n        },\r\n        '*::-webkit-scrollbar-track': {\r\n          '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)',\r\n        },\r\n        '*::-webkit-scrollbar-thumb': {\r\n          backgroundColor: 'rgba(0,0,0,.2)',\r\n          borderRadius: 20,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <MuiThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <App />\r\n    </MuiThemeProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}